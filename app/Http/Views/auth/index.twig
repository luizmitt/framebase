{% extends "_templates/pmm/auth/auth.twig" %}
{% block content %}

<login inline-template>
    <section id="login">

        <div class="col-12 login-header"></div>

        <div class="">
            <div class="hidden-xs col-md-4"></div>
            <div class="col-xs-12 col-md-4 col-lg-4 login-container">
                <div class="row">
                    <div class="col-xs-6 col-md-6">
                        <img class="img-responsive left login-logo" src="{{URL}}images/pmm/logo-dsti.svg">
                    </div>

                    <div class="col-xs-6 col-md-6">
                        <img class="img-responsive right login-logo" src="{{URL}}images/pmm/contratos_dsti_logo.png">
                    </div>
                </div>
                <div class="container">
                    <form autocomplete="false">
                        
                        <div id="step1" class="container" v-show="auth.step == 1">
                            <div class="row">
                                <div class="col-12 text-center">
                                    <h3>${auth.label.signin}</h3>
                                </div>
                            </div>

                            <alertbox class="row" v-bind:alert-config="auth"></alertbox>
                            
                            <div class="row">
                                <label class="label-control">${auth.label.username}</label>
                                <input class="form-control" type="text" id="username" name="username" ref="username" tabindex="1" v-bind:placeholder="auth.label.username_placeholder" v-model="user.username" @keyup.enter="next()">
                            </div>

                            <div class="row">
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" id="remember" name="remember" ref="remember" v-model="user.remember"> ${auth.label.remember}
                                    </label>
                                </div>
                            </div>

                            <div class="row text-right">
                                <button type="button" class="btn btn-primary" @click="next()">
                                    ${auth.label.next}
                                    <i class="fa fa-angle-double-right"></i>
                                </button>
                            </div>
                        </div>

                        <div id="step2" class="container" v-show="auth.step == 2">
                            <div class="row">
                                <div class="col-12 text-left">
                                    <h3>${auth.label.welcome}</h3>
                                    <div class="container login-user-data text-left">
                                        <img src="{{URL}}foto_teste.jpg" class="img-responseive login-user-picture">
                                        <label>LUIZ FABIO SCHMITT VIEIRA</label>
                                    </div>
                                </div>
                            </div>
                            
                            <alertbox class="row" v-bind:alert-config="auth" style="margin-top:20px"></alertbox>
                            
                            <div class="row">
                                <label class="label-control">${auth.label.password}</label>
                                <input class="form-control" type="password" id="password" name="password" ref="password" tabindex="2" v-bind:placeholder="auth.label.password_placeholder" v-model="user.password" @keyup.enter="enter()">
                            </div>

                            <div class="row">
                                <label class="label-control">${auth.label.environment}</label>
                                <select class="form-control form-control-select2" type="environment" id="environment" name="environment" ref="environment" tabindex="3" v-model="user.environment">
                                    <option v-for="(env, index) in auth.label.environments" v-bind:value="env.id">${env.text}</option>
                                </select>
                            </div>                            

                            <div class="row">
                                <ul class="login-list">
                                    <li><a href="#" @click="forget()">${auth.label.forgot_password}</a></li>
                                    <li><a href="#" @click="cancel()">${auth.label.isnot_you}</a></li>
                                    <li><a href="#" @click="list()">${auth.label.remember_users}</a></li>
                                </ul>
                            </div>

                            <div class="row text-right">
                                <button type="button" class="btn btn-primary" @click="enter()">
                                    <i class="fa fa-sign-in"></i>
                                    ${auth.label.signin}
                                </button>
                            </div>
                        </div>

                        <div id="step3" class="container" v-show="auth.step == 3">
                            <div class="row">
                                <div class="col-12 text-left">
                                    <h3>${auth.label.whoareyou}</h3>
                                    <h4 class="text-justify">${auth.label.whoareyou_notification}</h4>

                                    <ul class="login-list login-user-list">
                                         <li v-for="(usr, index) in users">
                                            <div class="container login-user-data text-left">
                                                <img v-if="usr.picture" src="{{URL}}foto_teste.jpg" class="img-responseive login-user-picture">
                                                <i v-else class="fa fa-user login-user-no-picture"></i>
                                                <label v-html="usr.username"></label>
                                                <i class="fa fa-close login-user-remove" @click="removeUser(usr)"></i>
                                            </div>
                                        </li>

                                    </ul>
                                </div>
                            </div>

                            <div class="row">
                                <ul class="login-list">
                                    <li><a href="#" @click="nolist()">${auth.label.nolist}</a></li>
                                </ul>
                            </div>

                            <div class="row text-right">
                                <button type="button" class="btn btn-default" @click="cancel()">
                                    <i class="fa fa-close"></i>
                                    ${auth.label.cancel}
                                </button>
                            </div>
                        </div>

                        <div id="step4" class="container" v-show="auth.step == 4">
                            <div class="row">
                                <div class="col-12 text-left">
                                    <h3>${auth.label.recover_password}</h3>
                                    <h4>${auth.label.recover_password_notification}</h4>

                                    <div class="container login-user-data text-left">
                                        <img src="{{URL}}foto_teste.jpg" class="img-responseive login-user-picture">
                                        <label>LUIZ FABIO SCHMITT VIEIRA</label>
                                    </div>

                                    <div class="container text-center login-user-email">
                                        <label>lui******i*t@pmm.am.gov.br</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <label class="label-control">${auth.label.confirm_email}</label>
                                <input class="form-control" type="email" id="email" name="email" ref="email" placeholder="Confirme o seu e-mail pmm" v-model="user.email" @click="send()">
                            </div>

                            <div class="row">
                                <ul class="login-list">
                                    <li><a href="#" @click="cancel()">${auth.label.isnot_you}</a></li>
                                    <li><a href="#" @click="list()">${auth.label.remember_users}</a></li>
                                </ul>
                            </div>

                            <div class="row">
                                <div class="left">
                                    <button type="button" class="btn btn-default" @click="cancel(2)">
                                        <i class="fa fa-close"></i>
                                        ${auth.label.cancel}
                                    </button>
                                </div>

                                <div class="right">
                                    <button type="button" class="btn btn-primary" @click="send()">
                                        <i class="fa fa-send"></i>
                                        ${auth.label.send}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="hidden-xs col-md-4"></div>
        </div>

        <img src="{{URL}}images/pmm/logo.svg" class="img-responsive hidden-xs login-logo-pmm">
    </section>
</login>

{% endblock %}